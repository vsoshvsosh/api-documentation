# Введение

Ruphish был разработан с нуля с JSON API, который облегчает разработчикам и системным администраторам автоматизацию симулированных фишинговых кампаний.

Данная документация описывает, как использовать API [Ruphish](https://getruphish.com). Мы надеемся, что вам понравится эта документация, и, пожалуйста, не стесняйтесь [создать вопрос](https://github.com/ruphish/ruphish/issues/new), если вы заметите какие-либо недостатки.

## Варианты использования

Существует множество причин для использования API Ruphish. Наиболее распространенный вариант использования — сбор отчетной информации для конкретной кампании, чтобы вы могли создавать пользовательские отчеты в знакомом вам программном обеспечении, таком как Excel или Numbers.

Однако автоматизация создания кампаний и атрибутов кампаний, таких как шаблоны, целевые страницы и многое другое, предоставляет возможность создать полностью автоматизированную программу симуляции фишинга. Это позволит автоматически проводить кампании в течение всего года. Это также позволяет администратору Ruphish быть включенным в кампании, поскольку он не будет точно знать, в какой день она начнется!

## Авторизация

Все запросы API требуют использования сгенерированного ключа API. Вы можете найти свой ключ API или сгенерировать новый, перейдя на конечную точку /settings или нажав на пункт бокового меню "Настройки".

Для аутентификации запроса API вы должны предоставить свой ключ API в заголовке `Authorization`.

В качестве альтернативы вы можете добавить `api_key=[API_KEY]` в качестве GET-параметра для авторизации в API. Но обратите внимание, что это может оставить следы, например, в вашей истории, если вы обращаетесь к API через браузер.

```http
GET /api/campaigns/?api_key=12345678901234567890123456789012
```

| Параметр | Тип | Описание |
| :--- | :--- | :--- |
| `api_key` | `string` | **Обязательный**. Ваш ключ API Ruphish |

## Ответы

Многие конечные точки API возвращают JSON-представление созданных или отредактированных ресурсов. Однако, если отправлен недопустимый запрос или возникает какая-либо другая ошибка, Ruphish возвращает ответ JSON в следующем формате:

```javascript
{
  "message" : string,
  "success" : bool,
  "data"    : string
}
```

Атрибут `message` содержит сообщение, обычно используемое для указания ошибок или, в случае удаления ресурса, успешного удаления ресурса.

Атрибут `success` описывает, была ли транзакция успешной или нет.

Атрибут `data` содержит любые другие метаданные, связанные с ответом. Это будет экранированная строка, содержащая данные JSON.

## Коды состояния

Ruphish возвращает следующие коды состояния в своем API:

| Код состояния | Описание |
| :--- | :--- |
| 200 | `OK` |
| 201 | `СОЗДАНО` |
| 400 | `НЕВЕРНЫЙ ЗАПРОС` |
| 404 | `НЕ НАЙДЕНО` |
| 500 | `ВНУТРЕННЯЯ ОШИБКА СЕРВЕРА` |

